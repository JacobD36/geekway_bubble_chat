class GeekWayChat{constructor(){this.widget=null,this.isOpen=!1,this.messages=[]}static init(t){return console.log("🚀 GeekWayChat.init() - Vanilla JS version",t),GeekWayChat.instance&&GeekWayChat.instance.destroy(),GeekWayChat.instance=new GeekWayChat,GeekWayChat.instance.createWidget(t),GeekWayChat.instance}createWidget(t){t.theme;const e=t.position||"bottom-right",n=t.welcomeMessage||"¡Hola! Soy el asistente de GeekWay. ¿En qué puedo ayudarte?";this.messages=[{id:1,text:n,sender:"bot",timestamp:new Date}],this.injectStyles(),this.widget=document.createElement("div"),this.widget.className=`geekway-chat-widget ${this.getPositionClass(e)}`,this.widget.innerHTML=`\n      <button class="chat-button">\n        <svg class="chat-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>\n        </svg>\n        <svg class="close-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n        </svg>\n      </button>\n      \n      <div class="chat-window hidden">\n        <div class="chat-header">\n          <h3>GeekWay Chat</h3>\n        </div>\n        <div class="chat-messages" id="chat-messages">\n          ${this.renderMessages()}\n        </div>\n        <div class="chat-input">\n          <input type="text" id="message-input" placeholder="Escribe aquí tu mensaje..." />\n          <button id="send-button">\n            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>\n            </svg>\n          </button>\n        </div>\n      </div>\n    `,document.body.appendChild(this.widget),this.setupEvents(),console.log("✅ GeekWay Chat Widget creado (Vanilla JS)",{position:e,class:this.getPositionClass(e)})}getPositionClass(t){switch(t){case"bottom-left":return"position-bottom-left";case"top-right":return"position-top-right";case"top-left":return"position-top-left";default:return"position-bottom-right"}}renderMessages(){return this.messages.map(t=>`\n      <div class="message ${t.sender}">\n        <div class="message-content">\n          <span class="message-text">${t.text}</span>\n        </div>\n      </div>\n    `).join("")}setupEvents(){if(!this.widget)return;const t=this.widget.querySelector(".chat-button"),e=this.widget.querySelector(".chat-window"),n=this.widget.querySelector("#message-input"),o=this.widget.querySelector("#send-button"),i=this.widget.querySelector(".chat-icon"),s=this.widget.querySelector(".close-icon");t.addEventListener("click",()=>{this.isOpen=!this.isOpen,this.isOpen?(e.classList.remove("hidden"),i.classList.add("hidden"),s.classList.remove("hidden"),setTimeout(()=>this.scrollToBottom(),100)):(e.classList.add("hidden"),i.classList.remove("hidden"),s.classList.add("hidden"))});const a=()=>{const t=n.value.trim();t&&(this.messages.push({id:Date.now(),text:t,sender:"user",timestamp:new Date}),n.value="",this.updateMessages(),this.scrollToBottom(),setTimeout(()=>{const t=["Gracias por escribir. El equipo de GeekWay te responderá pronto.","¡Perfecto! Hemos recibido tu mensaje. Te contactaremos en breve.","Mensaje recibido. Un especialista de GeekWay se comunicará contigo.","Tu consulta es importante para nosotros. Te responderemos a la brevedad."],e=t[Math.floor(Math.random()*t.length)];this.messages.push({id:Date.now(),text:e,sender:"bot",timestamp:new Date}),this.updateMessages(),this.scrollToBottom()},1e3))};o.addEventListener("click",a),n.addEventListener("keypress",t=>{"Enter"===t.key&&a()})}updateMessages(){const t=this.widget?.querySelector("#chat-messages");t&&(t.innerHTML=this.renderMessages())}scrollToBottom(){const t=this.widget?.querySelector("#chat-messages");t&&(t.scrollTop=t.scrollHeight)}injectStyles(){if(document.getElementById("geekway-chat-styles"))return;const t=document.createElement("style");t.id="geekway-chat-styles",t.textContent='\n      .geekway-chat-widget * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n      }\n      \n      .chat-button {\n        position: fixed;\n        width: 56px;\n        height: 56px;\n        background: #8b5cf6;\n        border: none;\n        border-radius: 50%;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 9999;\n        transition: all 0.3s ease;\n      }\n      \n      .chat-button:hover {\n        background: #7c3aed;\n        transform: scale(1.1);\n      }\n      \n      .chat-button svg {\n        width: 24px;\n        height: 24px;\n        color: white;\n      }\n      \n      .chat-window {\n        position: fixed;\n        width: 384px;\n        height: 650px;\n        background: white;\n        border-radius: 16px;\n        box-shadow: 0 10px 25px rgba(0,0,0,0.2);\n        z-index: 9998;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        animation: slideUp 0.3s ease-out;\n      }\n      \n      @keyframes slideUp {\n        from {\n          opacity: 0;\n          transform: translateY(20px) scale(0.95);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0) scale(1);\n        }\n      }\n      \n      .chat-window.hidden {\n        display: none;\n      }\n      \n      /* POSICIONAMIENTO BOTTOM-RIGHT (por defecto) */\n      .geekway-chat-widget .position-bottom-right .chat-button,\n      .geekway-chat-widget.position-bottom-right .chat-button {\n        bottom: 24px;\n        right: 24px;\n      }\n      \n      .geekway-chat-widget .position-bottom-right .chat-window,\n      .geekway-chat-widget.position-bottom-right .chat-window {\n        bottom: 96px;\n        right: 24px;\n      }\n      \n      /* POSICIONAMIENTO BOTTOM-LEFT */\n      .geekway-chat-widget .position-bottom-left .chat-button,\n      .geekway-chat-widget.position-bottom-left .chat-button {\n        bottom: 24px;\n        left: 24px;\n      }\n      \n      .geekway-chat-widget .position-bottom-left .chat-window,\n      .geekway-chat-widget.position-bottom-left .chat-window {\n        bottom: 96px;\n        left: 24px;\n      }\n      \n      /* POSICIONAMIENTO TOP-RIGHT */\n      .geekway-chat-widget .position-top-right .chat-button,\n      .geekway-chat-widget.position-top-right .chat-button {\n        top: 24px;\n        right: 24px;\n      }\n      \n      .geekway-chat-widget .position-top-right .chat-window,\n      .geekway-chat-widget.position-top-right .chat-window {\n        top: 96px;\n        right: 24px;\n      }\n      \n      /* POSICIONAMIENTO TOP-LEFT */\n      .geekway-chat-widget .position-top-left .chat-button,\n      .geekway-chat-widget.position-top-left .chat-button {\n        top: 24px;\n        left: 24px;\n      }\n      \n      .geekway-chat-widget .position-top-left .chat-window,\n      .geekway-chat-widget.position-top-left .chat-window {\n        top: 96px;\n        left: 24px;\n      }\n      \n      .chat-header {\n        background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n        color: white;\n        padding: 16px;\n        text-align: center;\n      }\n      \n      .chat-header h3 {\n        font-size: 18px;\n        font-weight: bold;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n      }\n      \n      .chat-messages {\n        flex: 1;\n        padding: 16px;\n        overflow-y: auto;\n        background: #f9fafb;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n      }\n      \n      .message {\n        margin-bottom: 16px;\n        display: flex;\n      }\n      \n      .message.bot {\n        justify-content: flex-start;\n      }\n      \n      .message.user {\n        justify-content: flex-end;\n      }\n      \n      .message-content {\n        max-width: 80%;\n        padding: 12px 16px;\n        border-radius: 18px;\n        font-size: 14px;\n        line-height: 1.4;\n      }\n      \n      .message.bot .message-content {\n        background: #8b5cf6;\n        color: white;\n        border-bottom-left-radius: 4px;\n      }\n      \n      .message.user .message-content {\n        background: #3b82f6;\n        color: white;\n        border-bottom-right-radius: 4px;\n      }\n      \n      .chat-input {\n        display: flex;\n        padding: 16px;\n        background: white;\n        border-top: 1px solid #e5e7eb;\n        gap: 8px;\n      }\n      \n      #message-input {\n        flex: 1;\n        padding: 12px 16px;\n        border: 1px solid #d1d5db;\n        border-radius: 24px;\n        outline: none;\n        font-size: 14px;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n      }\n      \n      #message-input:focus {\n        border-color: #8b5cf6;\n        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n      }\n      \n      #send-button {\n        width: 40px;\n        height: 40px;\n        background: #8b5cf6;\n        border: none;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: background 0.2s ease;\n      }\n      \n      #send-button:hover {\n        background: #7c3aed;\n      }\n      \n      #send-button svg {\n        width: 20px;\n        height: 20px;\n        color: white;\n      }\n      \n      .hidden {\n        display: none !important;\n      }\n      \n      @media (max-width: 640px) {\n        .chat-window {\n          width: calc(100vw - 32px);\n          height: 80vh;\n          right: 16px !important;\n          left: 16px !important;\n          bottom: 96px !important;\n        }\n      }\n    ',document.head.appendChild(t)}destroy(){this.widget&&(this.widget.remove(),this.widget=null);const t=document.getElementById("geekway-chat-styles");t&&t.remove()}show(){this.widget&&(this.widget.style.display="block")}hide(){this.widget&&(this.widget.style.display="none")}}GeekWayChat.instance=null,window.GeekWayChat=GeekWayChat,console.log("🌍 GeekWayChat (Vanilla JS) disponible globalmente"),console.log("✅ Sin dependencias - Compatibilidad universal");